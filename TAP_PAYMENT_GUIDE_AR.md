# ุฏููู ุฅุนุฏุงุฏ Tap Payments ๐ณ

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ ุฏุนู ูุงูู ูุจูุงุจุฉ ุงูุฏูุน **Tap Payments** ุฅูู ุงููุชุฌุฑ. ูููู ููุนููุงุก ุงูุขู ุงูุฏูุน ุจุงุณุชุฎุฏุงู:
- ุจุทุงูุงุช ุงูุงุฆุชูุงู ูุงูุฎุตู (Visa, Mastercard, Mada)
- Apple Pay
- Google Pay
- STC Pay
- ูุทุฑู ุฏูุน ุฃุฎุฑู ูุฏุนููุฉ ูู Tap

---

## ๐ ุฎุทูุงุช ุงูุชูุนูู

### 1. ุฅูุดุงุก ุญุณุงุจ ูู Tap
1. ุงุฐูุจ ุฅูู [Tap Dashboard](https://www.tap.company/ar-sa)
2. ุณุฌู ุญุณุงุจ ุฌุฏูุฏ ุฃู ุณุฌู ุฏุฎูู
3. ุฃููู ุนูููุฉ ุงูุชุญูู ูู ุงูุญุณุงุจ

### 2. ุงูุญุตูู ุนูู ููุงุชูุญ API
1. ูู ููุญุฉ ุงูุชุญููุ ุงุฐูุจ ุฅูู **Settings** โ **API Keys**
2. ุณุชุฌุฏ ููุนูู ูู ุงูููุงุชูุญ:
   - **Test Keys** (ููุชุฌุฑุจุฉ ูุงูุชุทููุฑ)
   - **Live Keys** (ููุฅูุชุงุฌ ุงููุนูู)

3. ุงูุณุฎ ุงูููุงุชูุญ ุงูุชุงููุฉ:
   - **Secret Key** (sk_test_... ุฃู sk_live_...)
   - **Public Key** (pk_test_... ุฃู pk_live_...)

### 3. ุชูุนูู Tap ูู ุงููุชุฌุฑ
1. ุณุฌู ุฏุฎูู ุฅูู ููุญุฉ ุงูุชุญูู: `http://localhost:3000/admin/login`
2. ุงุฐูุจ ุฅูู **ุงูุฅุนุฏุงุฏุงุช** โ **ุฅุนุฏุงุฏุงุช ุงูุฏูุน**
3. ุงุจุญุซ ุนู **Tap Payments** (ุชุงุจ ููุฏูุน)
4. ูุนูู ุงูุฎูุงุฑ ุจุงูุถุบุท ุนูู ุงูููุชุงุญ
5. ุฃุฏุฎู ุงูููุงุชูุญ:
   - **Secret Key**: ุงูููุชุงุญ ุงูุณุฑู ูู Tap
   - **Public Key**: ุงูููุชุงุญ ุงูุนุงู ูู Tap
   - **ูุถุน ุงูุงุฎุชุจุงุฑ**: ุงุฎุชุฑ "ุชูุนูู" ููุชุฌุฑุจุฉ ุฃู "ุฅููุงู" ููุฅูุชุงุฌ
6. ุงุถุบุท **ุญูุธ ุงูุชุบููุฑุงุช**

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### ุจุทุงูุงุช ุงุฎุชุจุงุฑ (Test Mode)
ุนูุฏ ุงุณุชุฎุฏุงู Test Keysุ ููููู ุงุณุชุฎุฏุงู ุจุทุงูุงุช ุงูุงุฎุชุจุงุฑ ุงูุชุงููุฉ:

#### ุจุทุงูุฉ ูุงุฌุญุฉ
```
ุฑูู ุงูุจุทุงูุฉ: 4242 4242 4242 4242
ุชุงุฑูุฎ ุงูุงูุชูุงุก: ุฃู ุชุงุฑูุฎ ูุณุชูุจูู (ูุซูุงู 12/25)
CVV: ุฃู 3 ุฃุฑูุงู (ูุซูุงู 123)
```

#### ุจุทุงูุฉ ูุงุดูุฉ
```
ุฑูู ุงูุจุทุงูุฉ: 4000 0000 0000 0002
ุชุงุฑูุฎ ุงูุงูุชูุงุก: ุฃู ุชุงุฑูุฎ ูุณุชูุจูู
CVV: ุฃู 3 ุฃุฑูุงู
```

### ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ
1. ุฃุถู ููุชุฌุงุช ุฅูู ุงูุณูุฉ
2. ุงุฐูุจ ุฅูู ุตูุญุฉ ุงูุฏูุน
3. ุงุฎุชุฑ ุนููุงู ุงูุชูุตูู
4. ุงุฎุชุฑ ุดุฑูุฉ ุงูุดุญู
5. ุงุฎุชุฑ **Tap Payments** ูุทุฑููุฉ ุฏูุน
6. ุงุถุบุท **ุชุฃููุฏ ุงูุทูุจ**
7. ุณูุชู ุชูุฌููู ุฅูู ุตูุญุฉ ุงูุฏูุน ุงูุฎุงุตุฉ ุจู Tap
8. ุฃุฏุฎู ุจูุงูุงุช ุจุทุงูุฉ ุงูุงุฎุชุจุงุฑ
9. ุฃููู ุนูููุฉ ุงูุฏูุน
10. ุณูุชู ุชูุฌููู ูุตูุญุฉ ุงูุชุฃููุฏ

---

## ๐ง ุงูุจููุฉ ุงูุชูููุฉ

### Backend
ุชู ุฅุถุงูุฉ ุงููููุงุช ุงูุชุงููุฉ:

#### 1. TapPaymentProvider.ts
```
backend/src/services/paymentProviders/TapPaymentProvider.ts
```
- ุฅูุดุงุก ุนูููุงุช ุงูุฏูุน
- ุงูุชุญูู ูู ุญุงูุฉ ุงูุฏูุน
- ุงุณุชุฑุฌุงุน ุงููุจุงูุบ (Refund)

#### 2. PaymentService.ts (ูุญุฏุซ)
```
backend/src/services/PaymentService.ts
```
- ุฏุนู Tap Payments
- ุฅุฏุงุฑุฉ ุนูููุงุช ุงูุฏูุน
- ูุนุงูุฌุฉ Webhooks

#### 3. Payment Routes (ูุญุฏุซ)
```
backend/src/routes/payments.ts
```
- `POST /api/payments/tap/create` - ุฅูุดุงุก ุนูููุฉ ุฏูุน
- `GET /api/payments/tap/verify/:chargeId` - ุงูุชุญูู ูู ุงูุฏูุน
- `POST /api/payments/tap/webhook` - ุงุณุชูุจุงู ุฅุดุนุงุฑุงุช Tap

### Frontend
ุชู ุฅุถุงูุฉ/ุชุญุฏูุซ ุงููููุงุช ุงูุชุงููุฉ:

#### 1. ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงูุฏูุน (ูุญุฏุซุฉ)
```
frontend/src/app/admin/settings/payment/page.tsx
```
- ูุงุฌูุฉ ูุฅุฏุฎุงู ููุงุชูุญ Tap
- ุชูุนูู/ุชุนุทูู Tap

#### 2. ุตูุญุฉ ุงูุฏูุน (ูุญุฏุซุฉ)
```
frontend/src/app/checkout/page.tsx
```
- ุฏุนู ุงูุฏูุน ุนุจุฑ Tap
- ุงูุชูุฌูู ูุตูุญุฉ ุงูุฏูุน

#### 3. ุตูุญุฉ ูุฌุงุญ ุงูุฏูุน
```
frontend/src/app/checkout/success/page.tsx
```
- ุงูุชุญูู ูู ุงูุฏูุน
- ุนุฑุถ ุฑุณุงูุฉ ุงููุฌุงุญ

#### 4. ุตูุญุฉ ุฅูุบุงุก ุงูุฏูุน
```
frontend/src/app/checkout/cancel/page.tsx
```
- ุนุฑุถ ุฑุณุงูุฉ ุงูุฅูุบุงุก
- ุฎูุงุฑุงุช ูููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู

---

## ๐ ุงูุฃูุงู

### ุญูุงูุฉ ุงูููุงุชูุญ
- ูุง ุชุดุงุฑู ุงูููุงุชูุญ ุงูุณุฑูุฉ ูุน ุฃู ุดุฎุต
- ูุง ุชุถุน ุงูููุงุชูุญ ูู ุงูููุฏ ุงููุตุฏุฑู
- ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ (.env) ููุท
- ุงุณุชุฎุฏู Test Keys ุฃุซูุงุก ุงูุชุทููุฑ

### Webhooks
ูุงุณุชูุจุงู ุฅุดุนุงุฑุงุช ุงูุฏูุน ุงูุชููุงุฆูุฉ:
1. ูู Tap Dashboardุ ุงุฐูุจ ุฅูู **Settings** โ **Webhooks**
2. ุฃุถู URL ุงูุชุงูู:
   ```
   https://yourdomain.com/api/payments/tap/webhook
   ```
3. ูุนูู ุงูุฃุญุฏุงุซ ุงูุชุงููุฉ:
   - `charge.created`
   - `charge.updated`
   - `charge.captured`
   - `charge.failed`

---

## ๐ฐ ุงูุฑุณูู ูุงูุนูููุงุช

### ุฑุณูู Tap
- ุชุฎุชูู ุญุณุจ ููุน ุงูุจุทุงูุฉ ูุงูุฎุทุฉ
- ุนุงุฏุฉ ุจูู 2.5% - 3.5% ููู ุนูููุฉ
- ุฑุงุฌุน [ุตูุญุฉ ุงูุฃุณุนุงุฑ](https://www.tap.company/ar-sa/pricing) ููุชูุงุตูู

### ุฑุณูู ุฅุถุงููุฉ
- ููููู ุฅุถุงูุฉ ุฑุณูู ุฎุฏูุฉ ุฅุถุงููุฉ ูู ุฅุนุฏุงุฏุงุช ุงููุชุฌุฑ
- ูุชู ุงุญุชุณุงุจ ุงูุฑุณูู ุชููุงุฆูุงู ูู ุงูุฅุฌูุงูู

---

## ๐ ุงูุฏูู ุงููุฏุนููุฉ

Tap ูุฏุนู ุงูุฏูุน ูู:
- ๐ธ๐ฆ ุงูุณุนูุฏูุฉ
- ๐ฆ๐ช ุงูุฅูุงุฑุงุช
- ๐ฐ๐ผ ุงููููุช
- ๐ง๐ญ ุงูุจุญุฑูู
- ๐ด๐ฒ ุนูุงู
- ๐ถ๐ฆ ูุทุฑ
- ๐ช๐ฌ ูุตุฑ
- ๐ฏ๐ด ุงูุฃุฑุฏู
- ูุฏูู ุฃุฎุฑู

---

## ๐ ุชุชุจุน ุงููุฏููุนุงุช

### ูู ููุญุฉ ุงูุชุญูู
1. ุงุฐูุจ ุฅูู **ุงูุทูุจุงุช**
2. ุงุฎุชุฑ ุฃู ุทูุจ
3. ุณุชุฌุฏ ุชูุงุตูู ุงูุฏูุน:
   - ุทุฑููุฉ ุงูุฏูุน
   - ุญุงูุฉ ุงูุฏูุน
   - ูุนุฑู ุงูุนูููุฉ (Transaction ID)

### ูู Tap Dashboard
1. ุณุฌู ุฏุฎูู ุฅูู Tap Dashboard
2. ุงุฐูุจ ุฅูู **Payments** โ **Charges**
3. ุณุชุฌุฏ ุฌููุน ุนูููุงุช ุงูุฏูุน ูุน ุงูุชูุงุตูู

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงููุดููุฉ: "Tap Payments ุบูุฑ ููุนู"
**ุงูุญู:**
1. ุชุฃูุฏ ูู ุชูุนูู Tap ูู ุฅุนุฏุงุฏุงุช ุงูุฏูุน
2. ุชุญูู ูู ุฅุฏุฎุงู ุงูููุงุชูุญ ุจุดูู ุตุญูุญ
3. ุชุฃูุฏ ูู ุญูุธ ุงูุชุบููุฑุงุช

### ุงููุดููุฉ: "ูุดู ูู ุฅูุดุงุก ุนูููุฉ ุงูุฏูุน"
**ุงูุญู:**
1. ุชุญูู ูู ุตุญุฉ ุงูููุงุชูุญ
2. ุชุฃูุฏ ูู ุชูุนูู ูุถุน ุงูุงุฎุชุจุงุฑ ุฅุฐุง ููุช ุชุณุชุฎุฏู Test Keys
3. ุฑุงุฌุน ุณุฌูุงุช ุงูุฃุฎุทุงุก ูู Console

### ุงููุดููุฉ: "ูู ูุชู ุงูุญุตูู ุนูู ุฑุงุจุท ุงูุฏูุน"
**ุงูุญู:**
1. ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
2. ุชุฃูุฏ ูู ุฃู Tap API ูุนูู
3. ุฑุงุฌุน ุงุณุชุฌุงุจุฉ API ูู Network Tab

### ุงููุดููุฉ: ุงูุฏูุน ูุงุฌุญ ููู ุงูุทูุจ ูู ูุชุญุฏุซ
**ุงูุญู:**
1. ุชุญูู ูู ุฅุนุฏุงุฏุงุช Webhook
2. ุชุฃูุฏ ูู ุฃู URL ุงูุฎุงุต ุจู Webhook ุตุญูุญ
3. ุฑุงุฌุน ุณุฌูุงุช Webhook ูู Tap Dashboard

---

## ๐ ุงูุฏุนู

### ุฏุนู Tap
- ุงููููุน: [tap.company](https://www.tap.company/ar-sa)
- ุงูุจุฑูุฏ: support@tap.company
- ุงููุซุงุฆู: [Tap API Docs](https://developers.tap.company/docs)

### ุฏุนู ุงููุชุฌุฑ
- ุฑุงุฌุน ููู `README_AR.md` ูููุฒูุฏ ูู ุงููุนูููุงุช
- ุงูุญุต ูููุงุช ุงูุชูุซูู ุงูุฃุฎุฑู

---

## โ ูุงุฆูุฉ ุงูุชุญูู

ูุจู ุงูุฅุทูุงู ุงููุนููุ ุชุฃูุฏ ูู:

- [ ] ุชู ุฅูุดุงุก ุญุณุงุจ Tap ูุงูุชุญูู ููู
- [ ] ุชู ุงูุญุตูู ุนูู Live Keys
- [ ] ุชู ุชูุนูู Tap ูู ุฅุนุฏุงุฏุงุช ุงูุฏูุน
- [ ] ุชู ุฅุฏุฎุงู Live Keys (ูููุณ Test Keys)
- [ ] ุชู ุชุนุทูู ูุถุน ุงูุงุฎุชุจุงุฑ
- [ ] ุชู ุฅุนุฏุงุฏ Webhooks ุจุดูู ุตุญูุญ
- [ ] ุชู ุงุฎุชุจุงุฑ ุนูููุฉ ุงูุฏูุน ุงููุงููุฉ
- [ ] ุชู ุงูุชุญูู ูู ุงุณุชูุงู ุงูุฅุดุนุงุฑุงุช
- [ ] ุชู ูุฑุงุฌุนุฉ ุฑุณูู Tap ูุงูุนูููุงุช

---

## ๐ ุชู ุจูุฌุงุญ!

ุงูุขู ูุชุฌุฑู ูุฏุนู Tap Payments ุจุดูู ูุงูู! ๐

ูููู ููุนููุงุก ุงูุฏูุน ุจุฃูุงู ุจุงุณุชุฎุฏุงู ุจุทุงูุงุชูู ุฃู ูุญุงูุธูู ุงูุฅููุชุฑูููุฉ.

**ููุงุญุธุฉ:** ุชุฐูุฑ ุงุณุชุฎุฏุงู Live Keys ุนูุฏ ุงูุฅุทูุงู ุงููุนูู ูููุชุฌุฑ.
