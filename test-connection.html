<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù€ API</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-box {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success { border-right: 4px solid #10b981; }
        .error { border-right: 4px solid #ef4444; }
        .pending { border-right: 4px solid #f59e0b; }
        h1 { color: #1f2937; }
        h3 { color: #374151; margin-top: 0; }
        pre {
            background: #f3f4f6;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 12px;
        }
        button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #2563eb;
        }
        .info {
            background: #dbeafe;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ” Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù€ API</h1>
    
    <div class="info">
        <strong>ğŸ“Œ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª:</strong><br>
        Backend: <code>http://localhost:5000</code><br>
        Frontend: <code>http://localhost:3000</code><br>
        API URL: <code id="api-url">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</code>
    </div>

    <button onclick="runTests()">â–¶ï¸ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</button>

    <div id="results"></div>

    <script>
        // Ø¹Ø±Ø¶ API URL Ù…Ù† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©
        const API_URL = 'http://localhost:5000/api';
        document.getElementById('api-url').textContent = API_URL;

        async function testEndpoint(name, url) {
            const resultDiv = document.getElementById('results');
            const testBox = document.createElement('div');
            testBox.className = 'test-box pending';
            testBox.innerHTML = `<h3>${name}</h3><p>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±...</p>`;
            resultDiv.appendChild(testBox);

            try {
                const response = await fetch(url);
                const data = await response.json();
                
                testBox.className = 'test-box success';
                testBox.innerHTML = `
                    <h3>âœ… ${name}</h3>
                    <p><strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> ${response.status} ${response.statusText}</p>
                    <p><strong>Ø§Ù„Ø±Ø§Ø¨Ø·:</strong> <code>${url}</code></p>
                    <details>
                        <summary>Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</summary>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    </details>
                `;
            } catch (error) {
                testBox.className = 'test-box error';
                testBox.innerHTML = `
                    <h3>âŒ ${name}</h3>
                    <p><strong>Ø®Ø·Ø£:</strong> ${error.message}</p>
                    <p><strong>Ø§Ù„Ø±Ø§Ø¨Ø·:</strong> <code>${url}</code></p>
                    <p><strong>Ø§Ù„ØªÙØ§ØµÙŠÙ„:</strong> ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Backend ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ÙØ° Ø§Ù„ØµØ­ÙŠØ­</p>
                `;
            }
        }

        async function runTests() {
            document.getElementById('results').innerHTML = '';
            
            await testEndpoint('Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', `${API_URL}/homepage`);
            await testEndpoint('Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª', `${API_URL}/products`);
            await testEndpoint('Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙØ¦Ø§Øª', `${API_URL}/categories`);
            await testEndpoint('Ø§Ø®ØªØ¨Ø§Ø± Footer', `${API_URL}/settings/footer`);
            await testEndpoint('Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø­ØµØ±ÙŠØ©', `${API_URL}/homepage/exclusive-offers`);
            await testEndpoint('Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù…ÙŠØ²Ø©', `${API_URL}/homepage/featured-deals`);
        }

        // ØªØ´ØºÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        window.onload = () => {
            setTimeout(runTests, 500);
        };
    </script>
</body>
</html>
